---
title: "7A: Calibrating Hedonic Pricing Model for Private Highrise Property with GWR Method"
subtitle: "In this exercise, we will learn to build hedonic pricing models for private high-rise property using Geographically Weighted Regression (GWR) methods to account for non-stationary variables."
draft: true
date: "Sep 22, 2024"
date-modified: "last-modified"
author: Teng Kok Wai (Walter)
execute:
  echo: true
  eval: true
  freeze: true
  message: false
  warning: false
format:
  html:
    toc: true
number-sections: true
number-offset: 1
editor: visual
---

## Exercise 7A Reference

[R for Geospatial Data Science and Analytics - 13Â  Calibrating Hedonic Pricing Model for Private Highrise Property with GWR Method](https://r4gdsa.netlify.app/chap13.html)

## Overview

In this exercise, we will learn to build [hedonic pricing](https://www.investopedia.com/terms/h/hedonicpricing.asp) models for private high-rise property using Geographically Weighted Regression (GWR) methods to account for non-stationary variables.

**Geographically weighted regression (GWR)** is a spatial statistical technique that takes non-stationary variables into consideration (e.g., climate; demographic factors; physical environment characteristics) and models the local relationships between these independent variables and an outcome of interest (also known as dependent variable).

> In this exercise, The dependent variable is the resale prices of condominium in 2015. The independent variables are divided into either structural and locational.

## Learning Outcome

-   Understand the basics of geographically weighted regression (GWR).
-   Build and evaluate hedonic pricing models using GWR.
-   Convert geospatial and aspatial data into appropriate formats for analysis.
-   Perform exploratory data analysis (EDA) using statistical graphics.
-   Visualize the model outputs and spatial patterns using various R packages.
-   Assess spatial autocorrelation and other statistical properties of model residuals.
-   Compare and interpret fixed and adaptive bandwidth GWR models.

## The Data

The following 2 datasets will be used in this study:

| **Data Set**          | **Description**                                                                            | **Format**     |
|--------------|---------------------------------------------|--------------|
| MP14_SUBZONE_WEB_PL   | URA Master Plan 2014's planning subzone boundaries represented as polygon features.        | ESRI Shapefile |
| condo_resale_2015.csv | Data on condominium resale prices in 2015, including structural and locational attributes. | CSV            |

## Installing and Launching the R Packages

The following R packages will be used in this exercise:

| **Package**   | **Purpose**                                                                                             | **Use Case in Exercise**                                                                      |
|--------------|-------------------------------|---------------------------|
| **sf**        | Manages, processes, and manipulates vector-based geospatial data.                                       | Handling and converting geospatial data such as the URA Master Plan boundaries.               |
| **GWmodel**   | Calibrates geographically weighted models for local spatial analysis.                                   | Building hedonic pricing models using fixed and adaptive bandwidth GWR methods.               |
| **olsrr**     | Performs diagnostics and builds better multiple linear regression models.                               | Testing for multicollinearity, normality, and linearity of the regression model.              |
| **corrplot**  | Provides visual tools to explore data correlation matrices.                                             | Visualizing relationships between independent variables in the dataset.                       |
| **tmap**      | Creates static and interactive thematic maps using cartographic quality elements.                       | Visualizing the geospatial distribution of condominium resale prices and other model outputs. |
| **tidyverse** | A collection of packages for data science tasks such as data manipulation, visualization, and modeling. | Importing CSV files, wrangling data, and performing data transformations and visualizations.  |
| **ggpubr**    | Enhances 'ggplot2' for easier 'publication-ready' plots.                                                | Creating small multiple histograms and scatterplots for exploratory data analysis.            |

To install and load these packages, use the following code:

```{r pacman}
pacman::p_load(olsrr, corrplot, ggpubr, sf, spdep, GWmodel, tmap, tidyverse, gtsummary)
```
